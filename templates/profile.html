{% extends "base.html" %}
{% load static %}

{% block title %}Profile | Skill Swap{% endblock title %}

{% block content %}

<section class="bg-gradient-to-r from-[#020254] to-[#030386] text-white py-12 md:py-20 min-h-[calc(100vh-68px)] flex items-center w-full">

    <div class="max-w-7xl mx-auto px-4">

        <!-- Settings Button -->
        <div class="flex justify-end mb-6">
            <a href="#" class="flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2 rounded-full font-medium transition">
                <i class="fa-solid fa-gear"></i>
                Settings
            </a>
        </div>

        <!-- Profile Overview Card -->
        <div class="bg-blue-100/20 border border-blue-700 rounded-2xl p-6 md:p-8 mb-10">

            <!-- Header -->
            <div class="flex flex-col md:flex-row gap-6 items-start md:items-center">
                <!-- Avatar -->
                {% comment %} <img 
                    src="{% static 'app/images/default-avatar.png' %}" 
                    alt="{{ user.first_name }} {{ user.last_name }}"
                    class="w-20 h-20 md:w-24 md:h-24 rounded-full object-cover border-2 border-blue-500"
                > {% endcomment %}
                 <div>
                   {% comment %} avatar icon {% endcomment %}
                   <i class="fa-solid fa-user text-5xl text-blue-500"></i>
                     </div>

                <!-- Info -->
                <div class="flex-1">
                    <h2 class="text-xl md:text-2xl font-bold">{{ user.first_name }} {{ user.last_name }}</h2>
                    
                    <!-- Rating & Exchanges -->
                    <div class="flex items-center gap-4 mt-1 text-sm">
                        <span class="flex items-center gap-1">
                            <i class="fa-solid fa-star text-yellow-400"></i>
                            4.9 (56 reviews)
                        </span>
                        <span class="flex items-center gap-1">
                            <i class="fa-solid fa-repeat text-blue-300"></i>
                            {{ user_teaching_skills.count|add:user_learning_skills.count }} exchanges
                        </span>
                    </div>

                    <!-- Bio -->
                    <p class="mt-3 text-skillswap-light leading-relaxed">
                        Passionate developer and designer looking to learn new skills while sharing my expertise in web development.
                    </p>
                </div>

                <!-- Edit Profile Button -->
                {% comment %} <a href="#" class="flex items-center gap-2 text-blue-900 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg font-medium transition">
                    <i class="fa-solid fa-pen"></i>
                    Edit Profile
                </a> {% endcomment %}
            </div>

            <!-- Skills Sections -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-8">

                <!-- Skills I Offer -->
                <div>
                    <h3 class="font-bold mb-3">Skills I offer:</h3>
                    <div class="flex flex-wrap gap-2">
                        {% if user_teaching_skills %}
                            {% for skill in user_teaching_skills %}
                                <span class="bg-blue-900/30 border border-blue-700 text-white px-3 py-1 rounded-full text-sm font-medium">
                                    {{ skill.skill.name }}
                                </span>
                            {% endfor %}
                        {% else %}
                            <span class="text-skillswap-light italic">No skills offered yet.</span>
                        {% endif %}
                    </div>
                </div>

                <!-- Skills I Want -->
                <div>
                    <h3 class="font-bold mb-3">Skills I want:</h3>
                    <div class="flex flex-wrap gap-2">
                        {% if user_learning_skills %}
                            {% for skill in user_learning_skills %}
                                <span class="bg-blue-900/30 border border-blue-700 text-white px-3 py-1 rounded-full text-sm font-medium">
                                    {{ skill.skill.name }}
                                </span>
                            {% endfor %}
                        {% else %}
                            <span class="text-skillswap-light italic">No skills wanted yet.</span>
                        {% endif %}
                    </div>
                </div>

            </div>

        </div>

        <!-- Post New Skill Button -->
        <div class="text-center">
            <a href="{% url 'teach' %}" class="inline-flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-full font-medium transition">
                <i class="fa-solid fa-plus"></i>
                Post New Skill
            </a>
        </div>

        <!-- Footer Text -->
        <div class="text-center text-xs text-blue-300 mt-16 pb-6">
            Â©Copyright 2025 | All rights reserved | <a href="#" class="underline">Terms of Use</a> | <a href="#" class="underline">Privacy Statement</a>
        </div>

    </div>

</section>

{% endblock %}